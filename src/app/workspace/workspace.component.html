<h1>{{currentNote}}</h1>

<app-track *ngFor="let blob of blobs" [blob]="blob" [playing]="isPlaying"></app-track>

<div id="controls">
	<figure (click)="toggleRecording()">
		<div>
			<span>{{isRecording ? 'Stop Recording': 'Start Recording'}}</span>
			<span>{{isRecording ? 'Stop Recording': 'Start Recording'}}</span>
		</div>
	</figure>

	<figure (click)="togglePlaying()">
		<div>
			<span>{{isPlaying ? 'Pause': 'Play'}}</span>
			<span>{{isPlaying ? 'Pause': 'Play'}}</span>
		</div>
	</figure>

	<a class="invisible" [href]="downloadLink" [download]="downloadFile">
		<figure>
			<div>
				<span>Save</span>
				<span>Save</span>
			</div>
		</figure>
	</a>
</div>

<!-- CONNECT
<select name="controller" id="controller" (change)="connectSource($event)">
  <option value="">Select</option>
  <option [value]="input.id" *ngFor="let input of midiInputs">{{input.name}}</option>
</select>
-->

<!-- VISUALIZE -->
<div class="visualization">
	<div class="bar"
		[ngClass]="{active: note.active}"
		[style.height]="getAdjustedNoteHeight(note)"
		*ngFor="let note of noteTransforms">
	</div>
</div>
