<!-- CONNECT
<select name="controller" id="controller" (change)="connectSource($event)">
  <option value="">Select</option>
  <option [value]="input.id" *ngFor="let input of midiInputs">{{input.name}}</option>
</select>
-->

<!-- CAPTURE -->
<h1>{{currentNote}}</h1>
<!-- Audio is controlled by play button at bottom of page -->
<audio (canplay)="allowPlayback()" #audio controls [src]="downloadLink"></audio>

<!-- CAPTURE
<pre>
  <div *ngFor="let note of notes">
    <span>{{note | json}}</span>
    <br>
  </div>
</pre>
-->

<!-- VISUALIZE
<div class="visualization">
  <div class="bar"
       [ngClass]="{active: note.active}"
       [style.height]="getAdjustedNoteHeight(note)"
       *ngFor="let note of noteTransforms">
  </div>
</div>
-->

<!-- DISPLAY AND RECORD
<div id="viz">
  <canvas id="analyser" width="1024" height="500"></canvas>
  <canvas id="wavedisplay" width="1024" height="500"></canvas>
</div>

<div id="controls">
  <button (click)="toggleRecording()" #recordBtn ngClass="{'recording':isRecording}">{{isRecording ? 'Stop Recording': 'Start Recording'}}</button>
  <a [href]="downloadLink" [download]="downloadFile">Save</a>
</div>

<canvas id="fft" width="1024" height="200"></canvas>
-->

<!-- PENDING -->
<div id="waveforms">
  <canvas id="waveform" width="1024" height="200"></canvas>
</div>

<div id="controls">
  <figure (click)="toggleRecording()">
    <div>
      <span>{{isRecording ? 'Stop Recording': 'Start Recording'}}</span>
      <span>{{isRecording ? 'Stop Recording': 'Start Recording'}}</span>
    </div>
  </figure>

  <!-- Begin play button -->
  <figure (click)="togglePlayback()">
    <div>
      <span>{{audio.paused ? 'Play': 'Pause'}}</span>
      <span>{{audio.paused ? 'Play': 'Pause'}}</span>
    </div>
  </figure>
  <!-- End play button -->

  <figure>
    <div>
      <span>Save</span>
      <span>Save</span>
    </div>
  </figure>

  <!-- <a [href]="downloadLink" [download]="downloadFile">Save</a> -->
</div>

<!-- PENDING
<div id="waveform"></div>
-->